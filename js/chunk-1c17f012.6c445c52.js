(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c17f012"],{"4d01":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("AppBorder",{attrs:{"app-info":t.Crontab,size:t.size,"herder-css":"header1"},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"fx-ac"},[e("span",[t._v(t._s(t.Crontab.icon)+"å®šæ—¶ä»»åŠ¡")])])]},proxy:!0},{key:"main",fn:function(){return[e("div",{staticClass:"fx-ver CrontabBox",on:{mousemove:t=>{t.stopPropagation()}}},[e("div",{staticClass:"fx-pj title"},[e("span"),e("button",{staticClass:"fz26",on:{click:t.taskList}},[t._v("ä»»åŠ¡åˆ—è¡¨")]),e("button",{staticClass:"fz26",on:{click:function(e){t.curPage=2}}},[t._v("è®¾ç½®ä»»åŠ¡")]),e("button",{staticClass:"fz26",on:{click:function(e){t.curPage=3}}},[t._v("å®šæ—¶æ¶ˆæ¯")]),e("span")]),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.curPage,expression:"curPage===1"}]},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"600",border:""}},[t._l(t.tableCol,(function(t,i){return e("el-table-column",{key:i,attrs:{prop:t.prop,label:t.label,width:t.width}})})),e("el-table-column",{attrs:{prop:"",label:"æ“ä½œ",width:"200"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.cancel(i.row.id)}}},[t._v("å…³é—­ä»»åŠ¡")])]}}])})],2)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.curPage,expression:"curPage===2"}]},[e("el-form",{ref:"schedule",staticClass:"demo-ruleForm fx-ver fx-pac",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"120px"}},[t._l(t.formItem,(function(i,s,o){return e("el-form-item",{key:o,attrs:{label:i,prop:s}},[e("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm[s],callback:function(e){t.$set(t.ruleForm,s,e)},expression:"ruleForm[key]"}})],1)})),e("el-form-item",{},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("schedule")}}},[t._v("æäº¤")]),e("el-button",{on:{click:function(e){return t.resetForm("schedule")}}},[t._v("é‡ç½®")])],1)],2)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:3===t.curPage,expression:"curPage===3"}],staticClass:"fx-ver fx-pac"},[e("el-form",{ref:"notify",staticClass:"demo-ruleForm fx-ver fx-pac",attrs:{model:t.notifyForm,"status-icon":"",rules:t.rules2,"label-width":"120px"}},[t._l(t.formItem2,(function(i,s,o){return e("el-form-item",{key:o,attrs:{label:i,prop:s}},[e("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.notifyForm[s],callback:function(e){t.$set(t.notifyForm,s,e)},expression:"notifyForm[key]"}})],1)})),e("el-form-item",{},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("notify")}}},[t._v("æäº¤")]),e("el-button",{on:{click:function(e){return t.resetForm("notify")}}},[t._v("é‡ç½®")])],1)],2),e("button",{on:{click:t.gotoHelper}},[t._v("->å‰å¾€Cronåœ¨çº¿è¡¨è¾¾å¼ç”Ÿæˆå™¨")])],1)])]},proxy:!0}])})},o=[],n=(i("14d9"),i("c201")),a=i("aca7"),r={name:"Crontab",components:{AppBorder:n["a"]},data(){return{Crontab:{name:"Crontab",isLoad:!1,min:!0,icon:"â±ï¸"},size:{width:"1200px",height:"600px"},ruleForm:{serviceName:"",methodName:"",cron:"",paramsName:"",params:""},notifyForm:{qq:"",email:"",cron:"",content:""},formItem:{serviceName:"æœåŠ¡å",methodName:"æ–¹æ³•å",cron:"Cronè¡¨è¾¾å¼",paramsName:"å‚æ•°å…¨ç±»ååˆ—è¡¨",params:"å‚æ•°å€¼"},formItem2:{qq:"qqå·",email:"é‚®ç®±",cron:"Cronè¡¨è¾¾å¼",content:"æ¶ˆæ¯å†…å®¹"},rules:{serviceName:[{required:!0,message:"è¯·è¾“å…¥è°ƒç”¨æœåŠ¡å",trigger:"blur"}],methodName:[{required:!0,message:"è¯·è¾“å…¥è°ƒç”¨æ–¹æ³•å",trigger:"blur"}],cron:[{required:!0,message:"è¯·è¾“å…¥Cronè¡¨è¾¾å¼",trigger:"blur"}]},rules2:{qq:[{required:!0,message:"è¯·è¾“å…¥qqå·",trigger:"blur"}],email:[{required:!0,message:"è¯·è¾“å…¥é‚®ç®±",trigger:"blur"}],cron:[{required:!0,message:"è¯·è¾“å…¥Cronè¡¨è¾¾å¼",trigger:"blur"}],content:[{required:!0,message:"è¯·è¾“å…¥æ¶ˆæ¯å†…å®¹",trigger:"blur"}]},tableData:[],curPage:1,tableCol:[{prop:"id",label:"id",width:180},{prop:"serviceName",label:"æœåŠ¡å",width:180},{prop:"methodName",label:"æ–¹æ³•å",width:120},{prop:"params",label:"å‚æ•°",width:150},{prop:"cron",label:"Corn",width:120},{prop:"runCount",label:"å·²æ‰§è¡Œæ¬¡æ•°",width:70}]}},created(){this.getTaskList()},methods:{getTaskList(){this.$http.get("/api/getTaskList").then(t=>{200===t.code?(t.data.forEach(t=>{t.params&&(t.params=t.params.join(",")),t.paramsName&&(t.paramsName=t.paramsName.join(","))}),this.tableData=t.data):this.$message.error(t.msg)})},cancel(t){this.$http.get("/api/cancelTask",{id:t}).then(t=>{200===t.code?(this.$message.success(t.data),this.getTaskList()):this.$message.error(t.msg)}).catch(t=>{this.$message.error(t)})},taskList(){this.curPage=1,this.getTaskList()},resetForm(t){this.$refs[t].resetFields()},setSchedule(){let t=this.ruleForm.paramsName.split(","),e=this.ruleForm.params.split(","),i={};""===t[0]||""===e[0]?(i.serviceName=this.ruleForm.serviceName,i.methodName=this.ruleForm.methodName,i.cron=this.ruleForm.cron):i={...this.ruleForm,paramsName:t,params:e},this.$http.postBody("/api/setSchedule",i).then(t=>{200===t.code?(console.log(t),this.$message.success("ä»»åŠ¡é…ç½®æˆåŠŸ"+t.data)):this.$message.error(t.msg)}).catch(t=>{this.$message.error(t)})},setNotify(){window.WXOpenid&&(this.notifyForm.openid=window.WXOpenid),this.$http.postBody("/api/notifyByTwoWay",this.notifyForm).then(t=>{200===t.code?(console.log(t),this.$message.success("ä»»åŠ¡é…ç½®æˆåŠŸ"+t.data)):this.$message.error(t.msg)}).catch(t=>{this.$message.error(t)})},submitForm(t){this.$refs[t].validate(e=>{if(!e)return console.log("error submit!!"),!1;"schedule"===t&&this.setSchedule(),"notify"===t&&this.setNotify()})},gotoHelper(){a["a"].search("http://cron.ciding.cc/")},closeApp(){this.$router.push("/")}}},p=r,c=(i("cf0a"),i("2877")),l=Object(c["a"])(p,s,o,!1,null,"b2b1dec0",null);e["default"]=l.exports},8037:function(t,e,i){},aca7:function(t,e,i){"use strict";i("14d9");var s=i("2b0e");class o{constructor(){this.minappMap={minApp:[]},this.appMap={ChatRoom:{name:"ChatRoom",isLoad:!1,min:!0,icon:"ðŸ’¬",CName:"é’ˆé’ˆ"},Brower:{name:"Brower",isLoad:!1,min:!0,icon:"ðŸŒ",CName:"æµè§ˆå™¨"},Live2DShow:{name:"Live2DShow",isLoad:!1,min:!0,icon:"ðŸ‘¯â€â™€ï¸",CName:"Live2D"},Lyre:{name:"Lyre",isLoad:!1,min:!0,icon:"ðŸŽ¹",CName:"é£Žç‰©ä¹‹è¯—ç´"},Clipboard:{name:"Clipboard",isLoad:!1,min:!0,icon:"ðŸ§±",CName:"ä¸€é”®å¤åˆ¶"},Video:{name:"Video",isLoad:!1,min:!0,icon:"ðŸ“º",CName:"Flvæ’­æ”¾å™¨"},FileList:{name:"FileList",isLoad:!1,min:!0,icon:"ðŸ“„",CName:"æ–‡ä»¶åˆ—è¡¨"},AMap:{name:"AMap",isLoad:!1,min:!0,icon:"ðŸ—ºï¸",CName:"é«˜å¾·åœ°å›¾"}},this.focusApp={focus:null,name:null}}getMinAppMap(){return this.minappMap}getAppInfo(t){return this.appMap[t]}startApp(t){this.appMap[t].isLoad=!0,s["default"].prototype.$nextTick(()=>{this.restore(this.appMap[t])})}playVideo(t,e){n.startApp("Video"),s["default"].prototype.$nextTick(()=>{this.appMap["Video"].instance.setUrl(t,e)})}playVideoByInfo(t){n.startApp("Video"),s["default"].prototype.$nextTick(()=>{this.appMap["Video"].instance.prePlay(t)})}search(t){n.startApp("Brower"),s["default"].prototype.$nextTick(()=>{this.appMap["Brower"].instance.search1(t)})}minimize(t){this.appMap[t]&&(this.minappMap.minApp.push(this.appMap[t]),this.appMap[t].min=!1)}getAppMap(){return this.appMap}restore(t){const e=this.minappMap.minApp.indexOf(t);e>=0&&(this.minappMap.minApp.splice(e,1),t.min=!0),this.setFocusApp(t.instance.$children[0])}closeApp(t){this.appMap[t]&&(this.appMap[t].instance.closeApp&&this.appMap[t].instance.closeApp(),this.appMap[t].isLoad=!1)}getTranslateParams(t,e,i,s,o,n,a,r){return[t.clientX-e+s,t.clientY-i+o]}setFocusApp(t){this.focusApp.focus=t,this.focusApp.name=t.AppInfo.name}getFocusApp(){return this.focusApp}mousemove(t){t.preventDefault();const e=this.focusApp.focus;if(e&&e.mouseDown){if("default"!==e.positionOnclick[6]){const i=t.clientX-e.positionOnclick[2],s=t.clientY-e.positionOnclick[3];return"ns-resize"!==e.positionOnclick[6]&&(e.size.width=e.positionOnclick[4]+i*e.direction[0]+"px",-1===e.direction[0]&&(e.position.left=e.positionOnclick[7]+i+"px")),void("ew-resize"!==e.positionOnclick[6]&&(e.size.height=e.positionOnclick[5]+s*e.direction[1]+"px",-1===e.direction[1]&&(e.position.top=e.positionOnclick[8]+s+"px")))}if(e.isMove){const i=this.getTranslateParams(t,e.positionOnclick[2],e.positionOnclick[3],e.positionOnclick[0],e.positionOnclick[1],e.transform[0],window.innerWidth,window.innerHeight);e.transform[4]=i[0],e.transform[5]=i[1],e.transform=[...e.transform]}}}mouseup(t){const e=this.focusApp.focus;e&&e.mouseup&&e.mouseup(t)}keydown(t){const e=this.focusApp.focus;e&&e.onKeyDown(t)}}const n=new o;e["a"]=n},c201:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.AppInfo.min,expression:"AppInfo.min"}],class:(t.focusApp.name===t.AppInfo.name?"focus":"normal")+" fx-ver",style:{position:"absolute",transform:this.tf,width:this.size.width||"auto",height:this.size.height||"auto",cursor:this.cursor,top:this.position.top||"auto",left:this.position.left||"auto"},attrs:{id:t.AppInfo.name},on:{mousemove:t.mousemove,mousedown:t.mousedown}},[e("div",{class:(t.herderCss||"header")+" fx-ac fx-pj"},[t._t("header"),e("div",{staticClass:"fx-ac"},[e("span",{staticClass:"fa fa-minus-square fz18 middleButton",on:{click:t.minimize}}),e("span",{staticClass:"fa fa-square fz18 middleButton",on:{click:t.maximize}}),e("span",{staticClass:"fa fa-times fz18 middleButton",on:{click:t.closeApp}})])],2),t._t("main")],2)},o=[],n=i("aca7"),a={name:"AppBorder",props:{AppInfo:{type:Object,required:!0},herderCss:[String],size:{type:Object,default:()=>({})},position:{type:Object,default:()=>({})}},computed:{tf(){return"matrix("+this.transform.toString()+")"}},mounted(){this.mainBox=document.getElementById(this.AppInfo.name);let t=this.mainBox.getBoundingClientRect();window.browser.versions.mobile?(this.position.left="0",this.position.top="0",this.size.width="100%",this.size.height="100%"):(this.position.left=t.left+"px",this.position.top=t.top+"px"),this.transform=[1,0,0,1,0,0],n["a"].setFocusApp(this),this.AppInfo.instance=this.$parent},data(){return{focusApp:n["a"].getFocusApp(),mouseDown:!1,isMove:!1,positionOnclick:[],transform:[1,0,0,1,0,0],sizeChange:{isMax:!1,width:null,height:null,top:null,left:null},direction:[1,1],cursor:"default",mainBox:null}},methods:{onKeyDown(t){this.$parent.onKeyDown&&this.$parent.onKeyDown(t)},mousedown(t){let e=this.mainBox.getBoundingClientRect(),i=t.clientX-e.left,s=t.clientY-e.top;n["a"].setFocusApp(this),this.positionOnclick[2]=t.clientX,this.positionOnclick[3]=t.clientY,this.positionOnclick[6]=this.cursor,s<40&&(this.positionOnclick[0]=this.transform[4],this.positionOnclick[1]=this.transform[5],this.isMove=!0),i<e.width/2?this.direction[0]=-1:this.direction[0]=1,s<e.height/2?this.direction[1]=-1:this.direction[1]=1,this.positionOnclick[4]=e.width,this.positionOnclick[5]=e.height,this.positionOnclick[7]=Number(this.position.left.substring(0,this.position.left.length-2)),this.positionOnclick[8]=Number(this.position.top.substring(0,this.position.top.length-2)),this.mouseDown=!0},mouseup(){this.mouseDown&&"default"!==this.positionOnclick[6]&&this.$parent.onResize&&this.$parent.onResize(),this.mouseDown=!1,this.isMove=!1,this.positionOnclick[6]="default"},mousemove(t){let e=this.mainBox.getBoundingClientRect(),i=t.clientX-e.left,s=t.clientY-e.top,o=e.width-i,n=e.height-s;this.cursor=i<3&&s<3||n<3&&o<3?"nwse-resize":s<3&&o<3||i<3&&n<3?"nesw-resize":s<3||n<3?"ns-resize":i<3||o<3?"ew-resize":"default"},minimize(){n["a"].minimize(this.AppInfo.name)},maximize(){this.sizeChange.isMax?(this.size.width=this.sizeChange.width,this.size.height=this.sizeChange.height,this.position.top=this.sizeChange.top,this.position.left=this.sizeChange.left,this.sizeChange.isMax=!1,this.$nextTick(()=>{this.$parent.onResize&&this.$parent.onResize()})):(this.sizeChange.width=this.size.width,this.sizeChange.height=this.size.height,this.sizeChange.left=this.position.left,this.sizeChange.top=this.position.top,this.size.height="100%",this.size.width="100%",this.sizeChange.isMax=!0,this.position.top="0px",this.position.left="0px",this.transform=[1,0,0,1,0,0],this.$nextTick(()=>{this.$parent.onResize&&this.$parent.onResize()}))},closeApp(){n["a"].getAppInfo(this.AppInfo.name)?n["a"].closeApp(this.AppInfo.name):this.$parent.closeApp&&this.$parent.closeApp()}}},r=a,p=(i("eae7"),i("2877")),c=Object(p["a"])(r,s,o,!1,null,"a5ac7c3a",null);e["a"]=c.exports},cf0a:function(t,e,i){"use strict";i("8037")},eae7:function(t,e,i){"use strict";i("f2b3")},f2b3:function(t,e,i){}}]);
//# sourceMappingURL=chunk-1c17f012.6c445c52.js.map