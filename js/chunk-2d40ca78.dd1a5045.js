(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d40ca78"],{"14d9":function(t,i,e){"use strict";var s=e("23e7"),o=e("7b0b"),n=e("07fa"),r=e("3a34"),a=e("3511"),p=e("d039"),c=p((function(){return 4294967297!==[].push.call({length:4294967296},1)})),h=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();s({target:"Array",proto:!0,arity:1,forced:c||h},{push:function(t){var i=o(this),e=n(i),s=arguments.length;a(e+s);for(var p=0;p<s;p++)i[e]=arguments[p],e++;return r(i,e),e}})},"1e76":function(t,i,e){"use strict";e("dc7e")},3511:function(t,i){var e=TypeError,s=9007199254740991;t.exports=function(t){if(t>s)throw e("Maximum allowed index exceeded");return t}},"3a34":function(t,i,e){"use strict";var s=e("83ab"),o=e("e8b5"),n=TypeError,r=Object.getOwnPropertyDescriptor,a=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,i){if(o(t)&&!r(t,"length").writable)throw n("Cannot set read only .length");return t.length=i}:function(t,i){return t.length=i}},aca7:function(t,i,e){"use strict";e("14d9");var s=e("2b0e");class o{constructor(){this.minappMap={minApp:[]},this.appMap={ChatRoom:{name:"ChatRoom",isLoad:!1,min:!0,icon:"💬",CName:"针针"},Brower:{name:"Brower",isLoad:!1,min:!0,icon:"🌐",CName:"浏览器"},Live2DShow:{name:"Live2DShow",isLoad:!1,min:!0,icon:"👯‍♀️",CName:"Live2D"},Lyre:{name:"Lyre",isLoad:!1,min:!0,icon:"🎹",CName:"风物之诗琴"},Clipboard:{name:"Clipboard",isLoad:!1,min:!0,icon:"🇨🇵",CName:"一键复制"},Video:{name:"Video",isLoad:!1,min:!0,icon:"📺",CName:"Flv播放器"},FileList:{name:"FileList",isLoad:!1,min:!0,icon:"📄",CName:"文件列表"},AMap:{name:"AMap",isLoad:!1,min:!0,icon:"🗺️",CName:"高德地图"}},this.focusApp={focus:null,name:null}}getMinAppMap(){return this.minappMap}getAppInfo(t){return this.appMap[t]}startApp(t){this.appMap[t].isLoad=!0,s["default"].prototype.$nextTick(()=>{this.restore(this.appMap[t])})}playVideo(t,i){n.startApp("Video"),s["default"].prototype.$nextTick(()=>{this.appMap["Video"].instance.setUrl(t,i)})}playVideoByInfo(t){n.startApp("Video"),s["default"].prototype.$nextTick(()=>{this.appMap["Video"].instance.prePlay(t)})}search(t){n.startApp("Brower"),s["default"].prototype.$nextTick(()=>{this.appMap["Brower"].instance.search1(t)})}minimize(t){this.appMap[t]&&(this.minappMap.minApp.push(this.appMap[t]),this.appMap[t].min=!1)}getAppMap(){return this.appMap}restore(t){const i=this.minappMap.minApp.indexOf(t);i>=0&&(this.minappMap.minApp.splice(i,1),t.min=!0),this.setFocusApp(t.instance.$children[0])}closeApp(t){this.appMap[t]&&(this.appMap[t].instance.closeApp&&this.appMap[t].instance.closeApp(),this.appMap[t].isLoad=!1)}getTranslateParams(t,i,e,s,o,n,r,a){return[t.clientX-i+s,t.clientY-e+o]}setFocusApp(t){this.focusApp.focus=t,this.focusApp.name=t.AppInfo.name}getFocusApp(){return this.focusApp}mousemove(t){t.preventDefault();const i=this.focusApp.focus;if(i&&i.mouseDown){if("default"!==i.positionOnclick[6]){const e=t.clientX-i.positionOnclick[2],s=t.clientY-i.positionOnclick[3];return"ns-resize"!==i.positionOnclick[6]&&(i.size.width=i.positionOnclick[4]+e*i.direction[0]+"px",-1===i.direction[0]&&(i.position.left=i.positionOnclick[7]+e+"px")),void("ew-resize"!==i.positionOnclick[6]&&(i.size.height=i.positionOnclick[5]+s*i.direction[1]+"px",-1===i.direction[1]&&(i.position.top=i.positionOnclick[8]+s+"px")))}if(i.isMove){const e=this.getTranslateParams(t,i.positionOnclick[2],i.positionOnclick[3],i.positionOnclick[0],i.positionOnclick[1],i.transform[0],window.innerWidth,window.innerHeight);i.transform[4]=e[0],i.transform[5]=e[1],i.transform=[...i.transform]}}}mouseup(t){const i=this.focusApp.focus;i&&i.mouseup&&i.mouseup(t)}keydown(t){const i=this.focusApp.focus;i&&i.onKeyDown(t)}}const n=new o;i["a"]=n},c201:function(t,i,e){"use strict";var s=function(){var t=this,i=t._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.AppInfo.min,expression:"AppInfo.min"}],class:(t.focusApp.name===t.AppInfo.name?"focus":"normal")+" fx-ver",style:{position:"absolute",transform:this.tf,width:this.size.width||"auto",height:this.size.height||"auto",cursor:this.cursor,top:this.position.top||"auto",left:this.position.left||"auto"},attrs:{id:t.AppInfo.name},on:{mousemove:t.mousemove,mousedown:t.mousedown}},[i("div",{class:(t.herderCss||"header")+" fx-ac fx-pj"},[t._t("header"),i("div",{staticClass:"fx-ac"},[i("span",{staticClass:"fa fa-minus-square fz18 middleButton",on:{click:t.minimize}}),i("span",{staticClass:"fa fa-square fz18 middleButton",on:{click:t.maximize}}),i("span",{staticClass:"fa fa-times fz18 middleButton",on:{click:t.closeApp}})])],2),t._t("main")],2)},o=[],n=e("aca7"),r={name:"AppBorder",props:{AppInfo:{type:Object,required:!0},herderCss:[String],size:{type:Object,default:()=>({})},position:{type:Object,default:()=>({})}},computed:{tf(){return"matrix("+this.transform.toString()+")"}},mounted(){this.mainBox=document.getElementById(this.AppInfo.name);let t=this.mainBox.getBoundingClientRect();this.position.left=t.left+"px",this.position.top=t.top+"px",n["a"].setFocusApp(this),this.AppInfo.instance=this.$parent},data(){return{focusApp:n["a"].getFocusApp(),mouseDown:!1,isMove:!1,positionOnclick:[],transform:[1,0,0,1,0,0],sizeChange:{isMax:!1,width:null,height:null,top:null,left:null},direction:[1,1],cursor:"default",mainBox:null}},methods:{onKeyDown(t){this.$parent.onKeyDown&&this.$parent.onKeyDown(t)},mousedown(t){let i=this.mainBox.getBoundingClientRect(),e=t.clientX-i.left,s=t.clientY-i.top;n["a"].setFocusApp(this),this.positionOnclick[2]=t.clientX,this.positionOnclick[3]=t.clientY,this.positionOnclick[6]=this.cursor,s<40&&(this.positionOnclick[0]=this.transform[4],this.positionOnclick[1]=this.transform[5],this.isMove=!0),e<i.width/2?this.direction[0]=-1:this.direction[0]=1,s<i.height/2?this.direction[1]=-1:this.direction[1]=1,this.positionOnclick[4]=i.width,this.positionOnclick[5]=i.height,this.positionOnclick[7]=Number(this.position.left.substring(0,this.position.left.length-2)),this.positionOnclick[8]=Number(this.position.top.substring(0,this.position.top.length-2)),this.mouseDown=!0},mouseup(){this.mouseDown&&"default"!==this.positionOnclick[6]&&this.$parent.onResize&&this.$parent.onResize(),this.mouseDown=!1,this.isMove=!1,this.positionOnclick[6]="default"},mousemove(t){let i=this.mainBox.getBoundingClientRect(),e=t.clientX-i.left,s=t.clientY-i.top,o=i.width-e,n=i.height-s;this.cursor=e<3&&s<3||n<3&&o<3?"nwse-resize":s<3&&o<3||e<3&&n<3?"nesw-resize":s<3||n<3?"ns-resize":e<3||o<3?"ew-resize":"default"},minimize(){n["a"].minimize(this.AppInfo.name)},maximize(){this.sizeChange.isMax?(this.size.width=this.sizeChange.width,this.size.height=this.sizeChange.height,this.position.top=this.sizeChange.top,this.position.left=this.sizeChange.left,this.sizeChange.isMax=!1,this.$nextTick(()=>{this.$parent.onResize&&this.$parent.onResize()})):(this.sizeChange.width=this.size.width,this.sizeChange.height=this.size.height,this.sizeChange.left=this.position.left,this.sizeChange.top=this.position.top,this.size.height="100%",this.size.width="100%",this.sizeChange.isMax=!0,this.position.top="0px",this.position.left="0px",this.transform=[1,0,0,1,0,0],this.$nextTick(()=>{this.$parent.onResize&&this.$parent.onResize()}))},closeApp(){n["a"].getAppInfo(this.AppInfo.name)?n["a"].closeApp(this.AppInfo.name):this.$parent.closeApp&&this.$parent.closeApp()}}},a=r,p=(e("1e76"),e("2877")),c=Object(p["a"])(a,s,o,!1,null,"98e3180a",null);i["a"]=c.exports},c752:function(t,i,e){"use strict";e("e2bd")},dc7e:function(t,i,e){},de64:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("AppBorder",{attrs:{"app-info":t.Login,size:t.size},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticClass:"fx-ac"},[i("span",[t._v(t._s(t.Login.icon)+"用户登录")])])]},proxy:!0},{key:"main",fn:function(){return[i("div",{staticClass:"fx-ver loginBox"},[i("div",{staticClass:"bak"}),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm fx-ver fx-pac",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"30px"}},[i("el-form-item",{attrs:{label:"📔",prop:"account"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.account,callback:function(i){t.$set(t.ruleForm,"account",i)},expression:"ruleForm.account"}})],1),i("el-form-item",{attrs:{label:"🔒",prop:"checkPass"}},[i("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.checkPass,callback:function(i){t.$set(t.ruleForm,"checkPass",i)},expression:"ruleForm.checkPass"}})],1),i("el-form-item",{},[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.submitForm("ruleForm")}}},[t._v("登录")]),i("el-button",{on:{click:function(i){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)]},proxy:!0}])})},o=[],n=(e("d9e2"),e("14d9"),e("c201")),r={name:"Login.vue",components:{AppBorder:n["a"]},data(){const t=(t,i,e)=>{""===i?e(new Error("请输入账号")):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),e())},i=(t,i,e)=>{""===i?e(new Error("请输入密码")):e()};return{name:"Login",Login:{name:"Login",isLoad:!1,min:!0,icon:"👨‍⚖️"},ruleForm:{account:"",checkPass:""},rules:{account:[{validator:t,trigger:"blur"}],checkPass:[{validator:i,trigger:"blur"}]},size:{width:"435px",height:"315px"}}},methods:{submitForm(t){this.$refs[t].validate(t=>{if(!t)return console.log("error submit!!"),!1;this.$http.postBody("/api/login",{username:this.ruleForm.account,password:this.ruleForm.checkPass}).then(t=>{if(200===t.code){let i=t.msg;localStorage.setItem("token",i),this.$store.commit("setToken",i),this.$message.success("登录成功！"),this.$router.push("/desktop")}else this.$message.error(t.msg)}).catch(t=>{this.$message.error(t)})})},resetForm(t){this.$refs[t].resetFields()},closeApp(){this.$router.push("/desktop")}}},a=r,p=(e("c752"),e("2877")),c=Object(p["a"])(a,s,o,!1,null,"2f84defc",null);i["default"]=c.exports},e2bd:function(t,i,e){},e8b5:function(t,i,e){var s=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}}}]);
//# sourceMappingURL=chunk-2d40ca78.dd1a5045.js.map