(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56a94b64"],{1241:function(e,t,i){},"630e":function(e,t,i){"use strict";i("1241")},aca7:function(e,t,i){"use strict";i("14d9");var s=i("2b0e");class o{constructor(){this.minappMap={minApp:[]},this.appMap={ChatRoom:{name:"ChatRoom",isLoad:!1,min:!0,icon:"ðŸ’¬",CName:"é’ˆé’ˆ"},Brower:{name:"Brower",isLoad:!1,min:!0,icon:"ðŸŒ",CName:"æµè§ˆå™¨"},Live2DShow:{name:"Live2DShow",isLoad:!1,min:!0,icon:"ðŸ‘¯â€â™€ï¸",CName:"Live2D"},Lyre:{name:"Lyre",isLoad:!1,min:!0,icon:"ðŸŽ¹",CName:"é£Žç‰©ä¹‹è¯—ç´"},Clipboard:{name:"Clipboard",isLoad:!1,min:!0,icon:"ðŸ§±",CName:"ä¸€é”®å¤åˆ¶"},Video:{name:"Video",isLoad:!1,min:!0,icon:"ðŸ“º",CName:"Flvæ’­æ”¾å™¨"},FileList:{name:"FileList",isLoad:!1,min:!0,icon:"ðŸ“„",CName:"æ–‡ä»¶åˆ—è¡¨"},AMap:{name:"AMap",isLoad:!1,min:!0,icon:"ðŸ—ºï¸",CName:"é«˜å¾·åœ°å›¾"}},this.focusApp={focus:null,name:null}}getMinAppMap(){return this.minappMap}getAppInfo(e){return this.appMap[e]}startApp(e){this.appMap[e].isLoad=!0,s["default"].prototype.$nextTick(()=>{this.restore(this.appMap[e])})}playVideo(e,t){n.startApp("Video"),s["default"].prototype.$nextTick(()=>{this.appMap["Video"].instance.setUrl(e,t)})}playVideoByInfo(e){n.startApp("Video"),s["default"].prototype.$nextTick(()=>{this.appMap["Video"].instance.prePlay(e)})}search(e){n.startApp("Brower"),s["default"].prototype.$nextTick(()=>{this.appMap["Brower"].instance.search1(e)})}minimize(e){this.appMap[e]&&(this.minappMap.minApp.push(this.appMap[e]),this.appMap[e].min=!1)}getAppMap(){return this.appMap}restore(e){const t=this.minappMap.minApp.indexOf(e);t>=0&&(this.minappMap.minApp.splice(t,1),e.min=!0),this.setFocusApp(e.instance.$children[0])}closeApp(e){this.appMap[e]&&(this.appMap[e].instance.closeApp&&this.appMap[e].instance.closeApp(),this.appMap[e].isLoad=!1)}getTranslateParams(e,t,i,s,o,n,r,a){return[e.clientX-t+s,e.clientY-i+o]}setFocusApp(e){this.focusApp.focus=e,this.focusApp.name=e.AppInfo.name}getFocusApp(){return this.focusApp}mousemove(e){e.preventDefault();const t=this.focusApp.focus;if(t&&t.mouseDown){if("default"!==t.positionOnclick[6]){const i=e.clientX-t.positionOnclick[2],s=e.clientY-t.positionOnclick[3];return"ns-resize"!==t.positionOnclick[6]&&(t.size.width=t.positionOnclick[4]+i*t.direction[0]+"px",-1===t.direction[0]&&(t.position.left=t.positionOnclick[7]+i+"px")),void("ew-resize"!==t.positionOnclick[6]&&(t.size.height=t.positionOnclick[5]+s*t.direction[1]+"px",-1===t.direction[1]&&(t.position.top=t.positionOnclick[8]+s+"px")))}if(t.isMove){const i=this.getTranslateParams(e,t.positionOnclick[2],t.positionOnclick[3],t.positionOnclick[0],t.positionOnclick[1],t.transform[0],window.innerWidth,window.innerHeight);t.transform[4]=i[0],t.transform[5]=i[1],t.transform=[...t.transform]}}}mouseup(e){const t=this.focusApp.focus;t&&t.mouseup&&t.mouseup(e)}keydown(e){const t=this.focusApp.focus;t&&t.onKeyDown(e)}}const n=new o;t["a"]=n},c201:function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.AppInfo.min,expression:"AppInfo.min"}],class:(e.focusApp.name===e.AppInfo.name?"focus":"normal")+" fx-ver",style:{position:"absolute",transform:this.tf,width:this.size.width||"auto",height:this.size.height||"auto",cursor:this.cursor,top:this.position.top||"auto",left:this.position.left||"auto"},attrs:{id:e.AppInfo.name},on:{mousemove:e.mousemove,mousedown:e.mousedown}},[t("div",{class:(e.herderCss||"header")+" fx-ac fx-pj"},[e._t("header"),t("div",{staticClass:"fx-ac"},[t("span",{staticClass:"fa fa-minus-square fz18 middleButton",on:{click:e.minimize}}),t("span",{staticClass:"fa fa-square fz18 middleButton",on:{click:e.maximize}}),t("span",{staticClass:"fa fa-times fz18 middleButton",on:{click:e.closeApp}})])],2),e._t("main")],2)},o=[],n=i("aca7"),r={name:"AppBorder",props:{AppInfo:{type:Object,required:!0},herderCss:[String],size:{type:Object,default:()=>({})},position:{type:Object,default:()=>({})}},computed:{tf(){return"matrix("+this.transform.toString()+")"}},mounted(){this.mainBox=document.getElementById(this.AppInfo.name);let e=this.mainBox.getBoundingClientRect();window.browser.versions.mobile?(this.position.left="0",this.position.top="0",this.size.width="100%",this.size.height="100%"):(this.position.left=e.left+"px",this.position.top=e.top+"px"),this.transform=[1,0,0,1,0,0],n["a"].setFocusApp(this),this.AppInfo.instance=this.$parent},data(){return{focusApp:n["a"].getFocusApp(),mouseDown:!1,isMove:!1,positionOnclick:[],transform:[1,0,0,1,0,0],sizeChange:{isMax:!1,width:null,height:null,top:null,left:null},direction:[1,1],cursor:"default",mainBox:null}},methods:{onKeyDown(e){this.$parent.onKeyDown&&this.$parent.onKeyDown(e)},mousedown(e){let t=this.mainBox.getBoundingClientRect(),i=e.clientX-t.left,s=e.clientY-t.top;n["a"].setFocusApp(this),this.positionOnclick[2]=e.clientX,this.positionOnclick[3]=e.clientY,this.positionOnclick[6]=this.cursor,s<40&&(this.positionOnclick[0]=this.transform[4],this.positionOnclick[1]=this.transform[5],this.isMove=!0),i<t.width/2?this.direction[0]=-1:this.direction[0]=1,s<t.height/2?this.direction[1]=-1:this.direction[1]=1,this.positionOnclick[4]=t.width,this.positionOnclick[5]=t.height,this.positionOnclick[7]=Number(this.position.left.substring(0,this.position.left.length-2)),this.positionOnclick[8]=Number(this.position.top.substring(0,this.position.top.length-2)),this.mouseDown=!0},mouseup(){this.mouseDown&&"default"!==this.positionOnclick[6]&&this.$parent.onResize&&this.$parent.onResize(),this.mouseDown=!1,this.isMove=!1,this.positionOnclick[6]="default"},mousemove(e){let t=this.mainBox.getBoundingClientRect(),i=e.clientX-t.left,s=e.clientY-t.top,o=t.width-i,n=t.height-s;this.cursor=i<3&&s<3||n<3&&o<3?"nwse-resize":s<3&&o<3||i<3&&n<3?"nesw-resize":s<3||n<3?"ns-resize":i<3||o<3?"ew-resize":"default"},minimize(){n["a"].minimize(this.AppInfo.name)},maximize(){this.sizeChange.isMax?(this.size.width=this.sizeChange.width,this.size.height=this.sizeChange.height,this.position.top=this.sizeChange.top,this.position.left=this.sizeChange.left,this.sizeChange.isMax=!1,this.$nextTick(()=>{this.$parent.onResize&&this.$parent.onResize()})):(this.sizeChange.width=this.size.width,this.sizeChange.height=this.size.height,this.sizeChange.left=this.position.left,this.sizeChange.top=this.position.top,this.size.height="100%",this.size.width="100%",this.sizeChange.isMax=!0,this.position.top="0px",this.position.left="0px",this.transform=[1,0,0,1,0,0],this.$nextTick(()=>{this.$parent.onResize&&this.$parent.onResize()}))},closeApp(){n["a"].getAppInfo(this.AppInfo.name)?n["a"].closeApp(this.AppInfo.name):this.$parent.closeApp&&this.$parent.closeApp()}}},a=r,p=(i("eae7"),i("2877")),c=Object(p["a"])(a,s,o,!1,null,"a5ac7c3a",null);t["a"]=c.exports},de64:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("AppBorder",{attrs:{"app-info":e.Login,size:e.size},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"fx-ac"},[t("span",[e._v(e._s(e.Login.icon)+e._s(e.Login.ZN))])])]},proxy:!0},{key:"main",fn:function(){return[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}],staticClass:"fx-ver loginBox"},[t("div",{staticClass:"bak"}),t("el-form",{ref:"Form",staticClass:"demo-Form fx-ver fx-pac",attrs:{model:e.Form,"status-icon":"",rules:e.rules,"label-width":"40px"}},[t("el-form-item",{attrs:{label:"ðŸ“”",prop:"account"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.Form.account,callback:function(t){e.$set(e.Form,"account",t)},expression:"Form.account"}})],1),t("el-form-item",{attrs:{label:"ðŸ”’",prop:"checkPass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.Form.checkPass,callback:function(t){e.$set(e.Form,"checkPass",t)},expression:"Form.checkPass"}})],1),t("el-form-item",{},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("Form")}}},[e._v("ç™»å½•")]),t("el-button",{on:{click:function(t){return e.resetForm("Form")}}},[e._v("é‡ç½®")])],1)],1),t("span",{staticClass:"fz14 regBut",on:{click:e.switchModel}},[e._v("æ³¨å†Œè´¦å·")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}],staticClass:"fx-ver loginBox"},[t("el-form",{ref:"RegForm",staticClass:"demo-Form fx-ver fx-pac",attrs:{model:e.registerForm,"status-icon":"","label-width":"80px",rules:e.regRules}},[t("el-form-item",{attrs:{label:"ðŸ“”è´¦å·",prop:"username"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),t("el-form-item",{attrs:{label:"ðŸ”’å¯†ç ",prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),t("el-form-item",{attrs:{label:"ðŸ”’ç¡®è®¤",prop:"checkPass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.registerForm.checkPass,callback:function(t){e.$set(e.registerForm,"checkPass",t)},expression:"registerForm.checkPass"}})],1),t("el-form-item",{attrs:{label:"ðŸ˜ƒæ˜µç§°",prop:"nickname"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.registerForm.nickname,callback:function(t){e.$set(e.registerForm,"nickname",t)},expression:"registerForm.nickname"}})],1),t("el-form-item",{attrs:{label:"ðŸ“§é‚®ç®±",prop:"email"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),t("el-form-item",{attrs:{label:"ðŸ“±æ‰‹æœº",prop:"phone"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}})],1),t("el-form-item",{attrs:{label:"ðŸµå¤´åƒ",prop:"headImg"}},[t("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.registerForm.headImg,callback:function(t){e.$set(e.registerForm,"headImg",t)},expression:"registerForm.headImg"}})],1),t("el-form-item",{},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("RegForm")}}},[e._v("æ³¨å†Œ")]),t("el-button",{on:{click:function(t){return e.resetForm("RegForm")}}},[e._v("é‡ç½®")])],1)],1),t("span",{staticClass:"fz14 regBut",on:{click:e.switchModel}},[e._v("è¿”å›žç™»å½•")])],1)]},proxy:!0}])})},o=[],n=(i("d9e2"),i("14d9"),i("c201")),r={name:"Login.vue",components:{AppBorder:n["a"]},data(){const e=(e,t,i)=>{console.log(t),""===t?i(new Error("è¯·è¾“å…¥è´¦å·")):i()},t=(e,t,i)=>{""===t?i(new Error("è¯·è¾“å…¥å¯†ç ")):i()},i=(e,t,i)=>{""===t?i(new Error("è¯·å†æ¬¡è¾“å…¥å¯†ç ")):t!==this.registerForm.password?i(new Error("ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸åŒ")):i()};return{name:"Login",Login:{name:"Login",isLoad:!1,min:!0,icon:"ðŸ‘¨â€âš–ï¸",ZN:"ç”¨æˆ·ç™»å½•"},Form:{account:"",checkPass:""},rules:{account:[{required:!0,message:"è¯·è¾“å…¥è´¦å·",trigger:"blur"}],checkPass:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"}]},regRules:{username:[{required:!0,message:"è¯·è¾“å…¥è´¦å·",trigger:"blur"},{validator:e,trigger:"blur"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"},{validator:t,trigger:"blur"}],checkPass:[{required:!0,message:"è¯·å†æ¬¡è¾“å…¥å¯†ç ",trigger:"blur"},{validator:i,trigger:"blur"}]},size:{width:"435px",height:"315px"},isLogin:!0,registerForm:{nickname:"",username:"",password:"",checkPass:"",email:"",headImg:"",phone:""}}},methods:{submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;"Form"===e?this.login():"RegForm"===e&&this.register()})},resetForm(e){this.$refs[e].resetFields()},register(){this.$http.postBody("/api/register",this.registerForm).then(e=>{200===e.code&&(this.$message.success("æ³¨å†ŒæˆåŠŸï¼"),this.switchModel())}).catch(e=>{this.$message.error(e)})},login(){this.$http.postBody("/api/login",{username:this.Form.account,password:this.Form.checkPass}).then(e=>{if(200===e.code){let t=e.msg;localStorage.setItem("token",t),this.$store.commit("setToken",t),this.$message.success("ç™»å½•æˆåŠŸï¼"),this.$router.push("/")}else this.$message.error(e.msg)}).catch(e=>{this.$message.error(e)})},closeApp(){this.$router.push("/")},switchModel(){this.isLogin?(this.size.height="530px",this.Login.ZN="ç”¨æˆ·æ³¨å†Œ"):(this.size.height="315px",this.Login.ZN="ç”¨æˆ·ç™»å½•"),this.isLogin=!this.isLogin}}},a=r,p=(i("630e"),i("2877")),c=Object(p["a"])(a,s,o,!1,null,"3694191b",null);t["default"]=c.exports},eae7:function(e,t,i){"use strict";i("f2b3")},f2b3:function(e,t,i){}}]);
//# sourceMappingURL=chunk-56a94b64.a9ef00e8.js.map