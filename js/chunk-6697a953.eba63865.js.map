{"version":3,"sources":["webpack:///./src/components/Empty.vue","webpack:///src/components/Empty.vue","webpack:///./src/components/Empty.vue?b21c","webpack:///./src/components/Empty.vue?edae","webpack:///./src/utils/PageManager.js","webpack:///./src/components/AppBorder.vue","webpack:///src/components/AppBorder.vue","webpack:///./src/components/AppBorder.vue?fc8c","webpack:///./src/components/AppBorder.vue?97dc","webpack:///./src/components/AppBorder.vue?775f"],"names":["render","_vm","this","_c","_self","attrs","Empty","size","scopedSlots","_u","key","fn","on","test","_v","proxy","staticRenderFns","name","components","AppBorder","data","isLoad","min","icon","width","height","methods","fd","test2","then","console","catch","closeApp","component","PageManager","constructor","minappMap","minApp","appMap","CName","focusApp","focus","getMinAppMap","getAppInfo","startApp","Vue","prototype","$nextTick","restore","playVideo","url","type","pageManager","instance","setUrl","playVideoByInfo","item","prePlay","search","search1","minimize","appName","push","getAppMap","idx","indexOf","splice","setFocusApp","$children","getTranslateParams","ev","srcMouseX","srcMouseY","curOffsetX","curOffsetY","curScale","clientX","clientY","that","AppInfo","getFocusApp","mousemove","preventDefault","mouseDown","positionOnclick","dx","dy","direction","position","left","top","isMove","params","transform","window","innerWidth","innerHeight","mouseup","keydown","onKeyDown","directives","rawName","value","expression","class","style","tf","cursor","mousedown","herderCss","_t","staticClass","maximize","props","required","default","computed","mounted","sizeChange","isMax","mainBox"],"mappings":"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","file":"js/chunk-6697a953.eba63865.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AppBorder',{attrs:{\"app-info\":_vm.Empty,\"size\":_vm.size},scopedSlots:_vm._u([{key:\"main\",fn:function(){return [_c('button',{on:{\"click\":_vm.test}},[_vm._v(\"test\")])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <AppBorder :app-info=\"Empty\" :size=\"size\">\r\n    <template v-slot:main>\r\n      <button @click=\"test\">test</button>\r\n    </template>\r\n  </AppBorder>\r\n</template>\r\n\r\n<script>\r\nimport AppBorder from \"@/components/AppBorder\";\r\n\r\nexport default {\r\n  name: \"Empty\",\r\n  components: {AppBorder},\r\n  data() {\r\n    return {\r\n      Empty: {\r\n        name: 'Empty',\r\n        isLoad: false,\r\n        min: true,\r\n        icon: 'N',\r\n      },\r\n      size: {\r\n        width: '30%',\r\n        height: '30%'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    test() {\r\n      let fd = new FormData();\r\n      fd.set(\"test\", \"456\");\r\n      this.$http.fetchPostX('/api/requestAnalysis', {test: '1234sss', test2: '2323232'})\r\n          .then(res => {\r\n            console.log(res)\r\n          })\r\n          .catch(err => {\r\n            console.log(err)\r\n          });\r\n    },\r\n    closeApp() {\r\n      this.$router.push(\"/desktop\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Empty.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Empty.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Empty.vue?vue&type=template&id=1d39fa2e&scoped=true&\"\nimport script from \"./Empty.vue?vue&type=script&lang=js&\"\nexport * from \"./Empty.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d39fa2e\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\n\r\nclass PageManager {\r\n  constructor() {\r\n    this.minappMap = {\r\n      minApp: []\r\n    };\r\n    this.appMap = {\r\n      'ChatRoom': {\r\n        name: 'ChatRoom',\r\n        isLoad: false,\r\n        min: true,\r\n        icon: 'üí¨',\r\n        CName: 'ÈíàÈíà'\r\n      },\r\n      'Brower': {\r\n        name: 'Brower',\r\n        isLoad: false,\r\n        min: true,\r\n        icon: 'üåê',\r\n        CName: 'ÊµèËßàÂô®'\r\n      },\r\n      'Live2DShow': {\r\n        name: 'Live2DShow',\r\n        isLoad: false,\r\n        min: true,\r\n        icon: 'üëØ‚Äç‚ôÄÔ∏è',\r\n        CName: 'Live2D'\r\n      },\r\n      'Lyre': {\r\n        name: 'Lyre',\r\n        isLoad: false,\r\n        min: true,\r\n        icon: 'üéπ',\r\n        CName: 'È£éÁâ©‰πãËØóÁê¥'\r\n      },\r\n      'Clipboard': {\r\n        name: 'Clipboard',\r\n        isLoad: false,\r\n        min: true,\r\n        icon: 'üß±',\r\n        CName: '‰∏ÄÈîÆÂ§çÂà∂'\r\n      },\r\n      'Video': {\r\n        name: 'Video',\r\n        isLoad: false,\r\n        min: true,\r\n        icon: 'üì∫',\r\n        CName: 'FlvÊí≠ÊîæÂô®'\r\n      },\r\n      'FileList': {\r\n        name: 'FileList',\r\n        isLoad: false,\r\n        min: true,\r\n        icon: 'üìÑ',\r\n        CName: 'Êñá‰ª∂ÂàóË°®'\r\n      },\r\n      'AMap': {\r\n        name: 'AMap',\r\n        isLoad: false,\r\n        min: true,\r\n        icon: 'üó∫Ô∏è',\r\n        CName: 'È´òÂæ∑Âú∞Âõæ'\r\n      }\r\n    };\r\n    this.focusApp = {focus: null, name: null};\r\n  }\r\n\r\n  getMinAppMap() {\r\n    return this.minappMap;\r\n  }\r\n\r\n  getAppInfo(name) {\r\n    return this.appMap[name];\r\n  }\r\n\r\n  startApp(name) {\r\n    this.appMap[name].isLoad = true;\r\n    Vue.prototype.$nextTick(() => {\r\n      this.restore(this.appMap[name]);\r\n    });\r\n  }\r\n\r\n  playVideo(url, type) {\r\n    pageManager.startApp('Video');\r\n    Vue.prototype.$nextTick(() => {\r\n      this.appMap['Video'].instance.setUrl(url, type)\r\n    });\r\n  }\r\n\r\n  playVideoByInfo(item) {\r\n    pageManager.startApp('Video');\r\n    Vue.prototype.$nextTick(() => {\r\n      this.appMap['Video'].instance.prePlay(item);\r\n    });\r\n  }\r\n\r\n  search(url) {\r\n    pageManager.startApp('Brower');\r\n    Vue.prototype.$nextTick(() => {\r\n      this.appMap['Brower'].instance.search1(url);\r\n    });\r\n  }\r\n\r\n  minimize(appName) {\r\n    if (this.appMap[appName]) {\r\n      this.minappMap.minApp.push(this.appMap[appName]);\r\n      this.appMap[appName].min = false;\r\n    }\r\n  }\r\n\r\n  getAppMap() {\r\n    return this.appMap;\r\n  }\r\n\r\n  restore(minApp) {\r\n    const idx = this.minappMap.minApp.indexOf(minApp);\r\n    if (idx >= 0) {\r\n      this.minappMap.minApp.splice(idx, 1);\r\n      minApp.min = true;\r\n    }\r\n    this.setFocusApp(minApp.instance.$children[0]);\r\n  }\r\n\r\n  closeApp(name) {\r\n    if (this.appMap[name]) {\r\n      this.appMap[name].instance.closeApp && this.appMap[name].instance.closeApp();\r\n      this.appMap[name].isLoad = false;\r\n    }\r\n  }\r\n\r\n  getTranslateParams(ev, srcMouseX, srcMouseY, curOffsetX, curOffsetY, curScale, width, height) {\r\n    return [\r\n      ev.clientX - srcMouseX + curOffsetX,\r\n      ev.clientY - srcMouseY + curOffsetY\r\n    ]\r\n  }\r\n\r\n  setFocusApp(that) {\r\n    this.focusApp.focus = that;\r\n    this.focusApp.name = that.AppInfo.name;\r\n  }\r\n\r\n  getFocusApp() {\r\n    return this.focusApp;\r\n  }\r\n\r\n  mousemove(ev) {\r\n    ev.preventDefault();\r\n    const that = this.focusApp.focus;\r\n    if (that && that.mouseDown) {\r\n      if (that.positionOnclick[6] !== 'default') {\r\n        const dx = ev.clientX - that.positionOnclick[2];\r\n        const dy = ev.clientY - that.positionOnclick[3];\r\n        if (that.positionOnclick[6] !== 'ns-resize') {\r\n          that.size.width = that.positionOnclick[4] + dx * that.direction[0] + 'px';\r\n          if (that.direction[0] === -1) {\r\n            that.position.left = that.positionOnclick[7] + dx + 'px';\r\n          }\r\n        }\r\n        if (that.positionOnclick[6] !== 'ew-resize') {\r\n          that.size.height = that.positionOnclick[5] + dy * that.direction[1] + 'px';\r\n          if (that.direction[1] === -1) that.position.top = that.positionOnclick[8] + dy + 'px';\r\n        }\r\n        return;\r\n      }\r\n      if (that.isMove) {\r\n        const params = this.getTranslateParams(ev, that.positionOnclick[2], that.positionOnclick[3],\r\n          that.positionOnclick[0], that.positionOnclick[1], that.transform[0], window.innerWidth, window.innerHeight);\r\n        that.transform[4] = params[0];\r\n        that.transform[5] = params[1];\r\n        that.transform = [...that.transform];\r\n      }\r\n    }\r\n  }\r\n\r\n  mouseup(ev) {\r\n    const that = this.focusApp.focus;\r\n    that && that.mouseup && that.mouseup(ev);\r\n  }\r\n\r\n  keydown(ev) {\r\n    const that = this.focusApp.focus;\r\n    that && that.onKeyDown(ev);\r\n  }\r\n}\r\n\r\nconst pageManager = new PageManager();\r\nexport default pageManager;\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.AppInfo.min),expression:\"AppInfo.min\"}],class:`${_vm.focusApp.name === _vm.AppInfo.name ?'focus':'normal'} fx-ver`,style:({\n      'position': 'absolute',\n      'transform': this.tf,\n      'width': this.size.width || 'auto',\n      'height': this.size.height || 'auto',\n      'cursor': this.cursor,\n      'top': this.position.top || 'auto',\n      'left': this.position.left || 'auto'\n    }),attrs:{\"id\":_vm.AppInfo.name},on:{\"mousemove\":_vm.mousemove,\"mousedown\":_vm.mousedown}},[_c('div',{class:`${_vm.herderCss||'header'} fx-ac fx-pj`},[_vm._t(\"header\"),_c('div',{staticClass:\"fx-ac\"},[_c('span',{staticClass:\"fa fa-minus-square fz18 middleButton\",on:{\"click\":_vm.minimize}}),_c('span',{staticClass:\"fa fa-square fz18 middleButton\",on:{\"click\":_vm.maximize}}),_c('span',{staticClass:\"fa fa-times fz18 middleButton\",on:{\"click\":_vm.closeApp}})])],2),_vm._t(\"main\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div :id=\"AppInfo.name\"\r\n       :class=\"`${focusApp.name === AppInfo.name ?'focus':'normal'} fx-ver`\"\r\n       :style=\"{\r\n        'position': 'absolute',\r\n        'transform': this.tf,\r\n        'width': this.size.width || 'auto',\r\n        'height': this.size.height || 'auto',\r\n        'cursor': this.cursor,\r\n        'top': this.position.top || 'auto',\r\n        'left': this.position.left || 'auto'\r\n      }\"\r\n       v-show=\"AppInfo.min\" @mousemove=\"mousemove\" @mousedown=\"mousedown\">\r\n    <div :class=\"`${herderCss||'header'} fx-ac fx-pj`\">\r\n      <slot name=\"header\"></slot>\r\n      <div class=\"fx-ac\">\r\n        <span class=\"fa fa-minus-square fz18 middleButton\" @click=\"minimize\"></span>\r\n        <span class=\"fa fa-square fz18 middleButton\" @click=\"maximize\"></span>\r\n        <span class=\"fa fa-times fz18 middleButton\" @click=\"closeApp\"></span>\r\n      </div>\r\n    </div>\r\n    <slot name=\"main\"></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pageManager from \"@/utils/PageManager\";\r\n\r\nexport default {\r\n  name: \"AppBorder\",\r\n  props: {\r\n    AppInfo: {type: Object, required: true}, herderCss: [String],\r\n    size: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n    },\r\n    position: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    tf() {\r\n      return \"matrix(\" + this.transform.toString() + \")\";\r\n    },\r\n  },\r\n  mounted() {\r\n    this.mainBox = document.getElementById(this.AppInfo.name);\r\n    let DOMRect = this.mainBox.getBoundingClientRect();\r\n    if (window.browser.versions.mobile) {\r\n      this.position.left = '0';\r\n      this.position.top = '0';\r\n      this.size.width = \"100%\";\r\n      this.size.height = \"100%\";\r\n    } else {\r\n      this.position.left = DOMRect.left + 'px';\r\n      this.position.top = DOMRect.top + 'px';\r\n    }\r\n    this.transform = [1, 0, 0, 1, 0, 0]; // Ëß¶ÂèëstyleÂà∑Êñ∞\r\n    pageManager.setFocusApp(this);\r\n    this.AppInfo.instance = this.$parent;\r\n  },\r\n  data() {\r\n    return {\r\n      focusApp: pageManager.getFocusApp(),\r\n      mouseDown: false,\r\n      isMove: false,\r\n      positionOnclick: [],\r\n      transform: [1, 0, 0, 1, 0, 0],\r\n      sizeChange: {\r\n        isMax: false,\r\n        width: null,\r\n        height: null,\r\n        top: null,\r\n        left: null\r\n      },\r\n      direction: [1, 1],\r\n      cursor: 'default',\r\n      mainBox: null,\r\n    }\r\n  },\r\n  methods: {\r\n    onKeyDown(ev) {\r\n      this.$parent.onKeyDown && this.$parent.onKeyDown(ev);\r\n    },\r\n    mousedown(ev) {\r\n      let DOMRect = this.mainBox.getBoundingClientRect();\r\n      let dx = ev.clientX - DOMRect.left;\r\n      let dy = ev.clientY - DOMRect.top;\r\n      pageManager.setFocusApp(this);\r\n      this.positionOnclick[2] = ev.clientX;\r\n      this.positionOnclick[3] = ev.clientY;\r\n      this.positionOnclick[6] = this.cursor;\r\n      if (dy < 40) {\r\n        this.positionOnclick[0] = this.transform[4];\r\n        this.positionOnclick[1] = this.transform[5];\r\n        this.isMove = true;\r\n      }\r\n      if (dx < DOMRect.width / 2) this.direction[0] = -1;\r\n      else this.direction[0] = 1;\r\n      if (dy < DOMRect.height / 2) this.direction[1] = -1;\r\n      else this.direction[1] = 1;\r\n\r\n      this.positionOnclick[4] = DOMRect.width;\r\n      this.positionOnclick[5] = DOMRect.height;\r\n      this.positionOnclick[7] = Number(this.position.left.substring(0, this.position.left.length - 2));\r\n      this.positionOnclick[8] = Number(this.position.top.substring(0, this.position.top.length - 2));\r\n      this.mouseDown = true;\r\n    },\r\n    mouseup() {\r\n      this.mouseDown && (this.positionOnclick[6] !== 'default') && this.$parent.onResize && this.$parent.onResize();\r\n      this.mouseDown = false;\r\n      this.isMove = false;\r\n      this.positionOnclick[6] = 'default';\r\n    },\r\n    mousemove(ev) {\r\n      let DOMRect = this.mainBox.getBoundingClientRect();\r\n      let dx = ev.clientX - DOMRect.left;\r\n      let dy = ev.clientY - DOMRect.top;\r\n      let right = DOMRect.width - dx;\r\n      let bottom = DOMRect.height - dy;\r\n      if ((dx < 3 && dy < 3) || (bottom < 3 && right < 3)) {\r\n        this.cursor = 'nwse-resize'\r\n      } else if ((dy < 3 && right < 3) || (dx < 3 && bottom < 3)) {\r\n        this.cursor = 'nesw-resize'\r\n      } else if (dy < 3 || bottom < 3) {\r\n        this.cursor = 'ns-resize'\r\n      } else if (dx < 3 || right < 3) {\r\n        this.cursor = 'ew-resize'\r\n      } else {\r\n        this.cursor = 'default'\r\n      }\r\n    },\r\n    minimize() {\r\n      pageManager.minimize(this.AppInfo.name);\r\n    },\r\n    maximize() {\r\n      if (!this.sizeChange.isMax) {\r\n        this.sizeChange.width = this.size.width;\r\n        this.sizeChange.height = this.size.height;\r\n        this.sizeChange.left = this.position.left;\r\n        this.sizeChange.top = this.position.top;\r\n        this.size.height = '100%';\r\n        this.size.width = '100%';\r\n        this.sizeChange.isMax = true;\r\n        this.position.top = '0px';\r\n        this.position.left = '0px';\r\n        this.transform = [1, 0, 0, 1, 0, 0];\r\n        this.$nextTick(() => {\r\n          this.$parent.onResize && this.$parent.onResize()\r\n        })\r\n      } else {\r\n        this.size.width = this.sizeChange.width;\r\n        this.size.height = this.sizeChange.height;\r\n        this.position.top = this.sizeChange.top;\r\n        this.position.left = this.sizeChange.left;\r\n        this.sizeChange.isMax = false\r\n        this.$nextTick(() => {\r\n          this.$parent.onResize && this.$parent.onResize()\r\n        })\r\n      }\r\n    },\r\n    closeApp() {\r\n      if (pageManager.getAppInfo(this.AppInfo.name))\r\n        pageManager.closeApp(this.AppInfo.name);\r\n      else this.$parent.closeApp && this.$parent.closeApp();\r\n    },\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.header {\r\n  width: 100%;\r\n  height: 40px;\r\n  background-color: #0076f6;\r\n}\r\n\r\n.header1 {\r\n  height: 40px;\r\n  width: 100%;\r\n  background-color: #48cbd4;\r\n}\r\n\r\n.header2 {\r\n  height: 40px;\r\n  width: 100%;\r\n  background-color: #3b3b3b;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBorder.vue?vue&type=template&id=a5ac7c3a&scoped=true&\"\nimport script from \"./AppBorder.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBorder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppBorder.vue?vue&type=style&index=0&id=a5ac7c3a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5ac7c3a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBorder.vue?vue&type=style&index=0&id=a5ac7c3a&prod&scoped=true&lang=css&\""],"sourceRoot":""}